// Default language: UKR
const DEFAULT_LANG = "uk";

const I18N = {
  uk: {
    nav_home: "Головна",
    nav_catalog: "Каталог",
    nav_shipping: "Доставка",
    nav_about: "Про нас",
    nav_contacts: "Контакти",

    cart: "Кошик",
    open_catalog: "Відкрити каталог",
    shipping_pay: "Доставка та оплата",
    go_cart: "Кошик",

    hero_kicker: "Преміум вугілля для гриля",
    hero_title: "PREMIUM\nHARDWOOD\nCHARCOAL",
    hero_sub: "Тривале горіння, мінімум попелу, чистий жар. Ідеально для BBQ та гриля.",

    page_catalog_title: "Товари",
    page_catalog_sub: "Обери категорію та додай у кошик.",
    chip_all: "Усе",
    chip_charcoal: "Вугілля",
    chip_accessories: "Аксесуари",

    sort_label: "Сортування",
    sort_popular: "Популярні",
    sort_price_asc: "Ціна ↑",
    sort_price_desc: "Ціна ↓",

    add_to_cart: "У КОШИК",
    cart_title: "Кошик",
    cart_sub: "Сума товарів у кошику",
    empty_cart: "Кошик порожній.",
    checkout: "Оформити",
    continue_shopping: "До каталогу",

    checkout_title: "Оформлення",
    name: "Ім'я",
    phone: "Телефон",
    city: "Місто",
    comment: "Коментар",
    place_order: "Підтвердити замовлення",

    success_title: "Дякуємо!",
    success_sub: "Замовлення прийняте. Ми звʼяжемось з вами найближчим часом.",

    shipping_title: "Доставка та оплата",
    shipping_text:
      "• Доставка: Нова Пошта / самовивіз\n• Оплата: на картку / накладений платіж\n• Термін: 1–3 дні по Україні",

    about_title: "Про нас",
    about_text:
      "BLACKWOOD — преміальні продукти для BBQ: вугілля, стартери та аксесуари. Робимо акцент на якості, чистому жарі та зручності.",

    contacts_title: "Контакти",
    contacts_text: "Напиши нам у соцмережі:",

    currency: "грн",
  },

  ru: {
    nav_home: "Главная",
    nav_catalog: "Каталог",
    nav_shipping: "Доставка",
    nav_about: "О нас",
    nav_contacts: "Контакты",

    cart: "Корзина",
    open_catalog: "Открыть каталог",
    shipping_pay: "Доставка и оплата",
    go_cart: "Корзина",

    hero_kicker: "Премиум уголь для гриля",
    hero_title: "PREMIUM\nHARDWOOD\nCHARCOAL",
    hero_sub: "Длительное горение, минимум пепла, чистый жар. Идеально для BBQ и гриля.",

    page_catalog_title: "Товары",
    page_catalog_sub: "Выбери категорию и добавь в корзину.",
    chip_all: "Все",
    chip_charcoal: "Уголь",
    chip_accessories: "Аксессуары",

    sort_label: "Сортировка",
    sort_popular: "Популярные",
    sort_price_asc: "Цена ↑",
    sort_price_desc: "Цена ↓",

    add_to_cart: "В КОРЗИНУ",
    cart_title: "Корзина",
    cart_sub: "Сумма товаров в корзине",
    empty_cart: "Корзина пустая.",
    checkout: "Оформить",
    continue_shopping: "В каталог",

    checkout_title: "Оформление",
    name: "Имя",
    phone: "Телефон",
    city: "Город",
    comment: "Комментарий",
    place_order: "Подтвердить заказ",

    success_title: "Спасибо!",
    success_sub: "Заказ принят. Мы свяжемся с вами в ближайшее время.",

    shipping_title: "Доставка и оплата",
    shipping_text:
      "• Доставка: Новая Почта / самовывоз\n• Оплата: на карту / наложенный платеж\n• Срок: 1–3 дня по Украине",

    about_title: "О нас",
    about_text:
      "BLACKWOOD — премиальные продукты для BBQ: уголь, стартеры и аксессуары. Ставим акцент на качестве, чистом жаре и удобстве.",

    contacts_title: "Контакты",
    contacts_text: "Напиши нам в соцсети:",

    currency: "грн",
  },

  en: {
    nav_home: "Home",
    nav_catalog: "Catalog",
    nav_shipping: "Shipping",
    nav_about: "About",
    nav_contacts: "Contacts",

    cart: "Cart",
    open_catalog: "Open catalog",
    shipping_pay: "Shipping & payment",
    go_cart: "Cart",

    hero_kicker: "Premium charcoal for grill",
    hero_title: "PREMIUM\nHARDWOOD\nCHARCOAL",
    hero_sub: "Long burn, low ash, clean heat. Perfect for BBQ & grill.",

    page_catalog_title: "Products",
    page_catalog_sub: "Choose a category and add to cart.",
    chip_all: "All",
    chip_charcoal: "Charcoal",
    chip_accessories: "Accessories",

    sort_label: "Sort",
    sort_popular: "Popular",
    sort_price_asc: "Price ↑",
    sort_price_desc: "Price ↓",

    add_to_cart: "ADD",
    cart_title: "Cart",
    cart_sub: "Total in cart",
    empty_cart: "Your cart is empty.",
    checkout: "Checkout",
    continue_shopping: "To catalog",

    checkout_title: "Checkout",
    name: "Name",
    phone: "Phone",
    city: "City",
    comment: "Comment",
    place_order: "Place order",

    success_title: "Thank you!",
    success_sub: "Order received. We will contact you shortly.",

    shipping_title: "Shipping & payment",
    shipping_text:
      "• Shipping: Nova Poshta / pickup\n• Payment: card / cash on delivery\n• Time: 1–3 days in Ukraine",

    about_title: "About",
    about_text:
      "BLACKWOOD makes premium BBQ products: charcoal, starters and accessories. We focus on quality, clean heat and convenience.",

    contacts_title: "Contacts",
    contacts_text: "Message us in socials:",

    currency: "UAH",
  }
};

function getLang(){
  const saved = localStorage.getItem("lang");
  if (saved && I18N[saved]) return saved;
  return DEFAULT_LANG;
}

function setLang(lang){
  if (!I18N[lang]) lang = DEFAULT_LANG;
  localStorage.setItem("lang", lang);

  document.documentElement.lang = lang === "uk" ? "uk" : (lang === "ru" ? "ru" : "en");

  // Buttons active
  document.querySelectorAll("[data-lang]").forEach(btn=>{
    btn.classList.toggle("active", btn.dataset.lang === lang);
  });

  // Texts
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.dataset.i18n;
    const val = I18N[lang][key];
    if (typeof val === "string") el.textContent = val;
  });

  // Multiline hero title support
  document.querySelectorAll("[data-i18n-multiline]").forEach(el=>{
    const key = el.dataset.i18nMultiline;
    const val = I18N[lang][key];
    if (typeof val === "string") {
      el.innerHTML = val.replace(/\n/g, "<br>");
    }
  });

  // Render pages that depend on language
  if (window.App && typeof window.App.onLangChange === "function") {
    window.App.onLangChange(lang);
  }
}

window.I18N = I18N;
window.getLang = getLang;
window.setLang = setLang;
